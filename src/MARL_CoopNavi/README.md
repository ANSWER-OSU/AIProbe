##  MARL Coop Navi

#### Instructions on launching *CureFuzz* for Multi-Agent Reinforcement Learning models for Coop-Navi

#### Setting up environment:

```bash
conda create -n MARL python=3.5.4
conda env update --name MARL --file environment_MARL.yml
conda activate MARL

cd ./maddpg
pip install -e .
cd ../multiagent-particle-envs
pip install -e .
cd ../maddpg/experiments/
```

----

#### Fuzz testing:

Check the default path of the model is correct in `./maddpg/experiments/test_cure.py`. 

Run `python testing.py` to start fuzz testing.



## 1. Enviroment installation
installation step

## 2. Task generator
Use the provided run.sh script to generate environment and task files.
```
cd ..
cd Enviroment_Generation/publish
./run.sh <DomainName> <Master_XML_path> <TimeStepPresent>
cd ../..
cd MARL_CoopNavi


```
Example:
```
./run.sh MARL_CoopNavi ./data/MARL_CoopNavi.xml true

```
This will:
•	Create output under AIprobe/Result/MARL_CoopNavi/
•	Generate XML files (initial and final state)


## 3. Run model on generated task
This script simulation and runs the model on all generated tasks

```

```

## 4. Instruction generation ()
This script runs a parallelized heuristic-guided instruction generation algorithm for simulation environments generated by task generator. It attempts to reproduce transitions from initial to final state.
```
python heuristic_guided_search.py  --csv_path /path/to/simulation/results/ --base_dir /path/to/genrated/task  --num_workers 4

```

## 5. Crash analysis
This script analyzes simulation results to identify no of tasks the model failed due to crashes and the unique states .

```
python crash_summary.py --csv_path /path/to/simulation/results --base_dir /path/to/genrated/task

